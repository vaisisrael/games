/* puzzle.css â€“ Parasha Games Puzzle */

[data-parasha-games]{
  --pz-border: rgba(0,0,0,.10);
  --pz-shadow: 0 10px 25px rgba(0,0,0,.08);
  --pz-shadow2: 0 14px 28px rgba(0,0,0,.10);
  --pz-muted: rgba(17,24,39,.60);
  --pz-accent: rgba(37,99,235,.35);
}

[data-parasha-games] .pz-wrap{
  border: 1px solid var(--pz-border);
  border-radius: 14px;
  box-shadow: var(--pz-shadow);
  background: linear-gradient(180deg, rgba(246,247,251,1), #fff);
  padding: 12px;
}

[data-parasha-games] .pz-caption{
  font-weight: 800;
  font-size: 14px;
  color: rgba(17,24,39,.85);
  margin-bottom: 10px;
}

[data-parasha-games] .pz-topbar{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  flex-wrap:wrap;
  gap: 6px;
  margin-bottom: 10px;
}

[data-parasha-games] .pz-topbar button{
  font-family: inherit;
  cursor:pointer;
  border: 1px solid var(--pz-border);
  background: linear-gradient(90deg, rgba(37,99,235,.10), rgba(124,58,237,.08));
  border-radius: 12px;
  padding: 7px 10px;
  font-weight: 800;
  font-size: 14px;
  color: rgba(17,24,39,.92);
  box-shadow: 0 6px 14px rgba(0,0,0,.06);
  transition: box-shadow .12s ease, border-color .12s ease;
}

[data-parasha-games] .pz-topbar button:hover{
  box-shadow: 0 10px 22px rgba(0,0,0,.08);
  border-color: var(--pz-accent);
}

[data-parasha-games] .pz-level[aria-pressed="true"]{
  border-color: rgba(37,99,235,.55);
  box-shadow: 0 10px 22px rgba(37,99,235,.12);
}

[data-parasha-games] .pz-stats{
  margin-inline-start:auto;
  display:inline-flex;
  align-items:center;
  gap:10px;
  color: var(--pz-muted);
  font-weight: 800;
  font-size: 14px;
  white-space: nowrap;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1;
}

[data-parasha-games] .pz-area{
  display:grid;
  gap: 12px;
  justify-items:center;
}

[data-parasha-games] .pz-board{
  position: relative;
  width: min(92vw, 420px);
  aspect-ratio: 1 / 1;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 10px 25px rgba(0,0,0,.06);
  background: #fff;
  touch-action: none; /* prevent scroll while dragging on board */
}

[data-parasha-games] .pz-board.pz-helping{
  pointer-events: none;
}

[data-parasha-games] .pz-img{
  position:absolute;
  inset:0;
  background-repeat:no-repeat;
  background-size: cover;
  background-position:center;
  transition: opacity .18s ease, filter .18s ease;
}

[data-parasha-games] .pz-img.pz-faded{
  opacity: .16;
  filter: blur(1.5px) saturate(.9);
}

[data-parasha-games] .pz-grid{
  position:absolute;
  inset:0;
  display:grid;
  gap: 0;
}

[data-parasha-games] .pz-cell{
  border: 1px solid rgba(0,0,0,.08);
  background: transparent;
  position: relative;
}

[data-parasha-games] .pz-cell.pz-hover{
  outline: 3px solid rgba(37,99,235,.22);
  outline-offset: -3px;
}

[data-parasha-games] .pz-piece-in-cell{
  position:absolute;
  inset:0;
  background-repeat:no-repeat;
  border-radius: 8px;
}

[data-parasha-games] .pz-pre{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 10px;
  width: 100%;
}

[data-parasha-games] .pz-banner{
  min-height: 30px;
  padding: 6px 10px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.74);
  box-shadow: 0 8px 18px rgba(0,0,0,.05);
  color: rgba(17,24,39,.85);
  font-weight: 800;
  font-size: 13px;
  opacity: 0;
  transform: translateY(2px);
  transition: opacity .18s ease, transform .18s ease;
}

[data-parasha-games] .pz-banner.pz-banner--show{
  opacity: 1;
  transform: translateY(0);
}

[data-parasha-games] .pz-film{
  width: min(92vw, 520px);
  position: relative;
}

[data-parasha-games] .pz-film-viewport{
  overflow-x:auto;
  overflow-y:hidden;
  scroll-behavior:smooth;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.65);
  box-shadow: 0 8px 18px rgba(0,0,0,.05);
  padding: 10px;
  -webkit-overflow-scrolling: touch;
}

[data-parasha-games] .pz-film-row{
  display:flex;
  gap: 10px;
  align-items:center;
}

[data-parasha-games] .pz-arrow{
  position:absolute;
  top:50%;
  transform: translateY(-50%);
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.10);
  background: rgba(255,255,255,.85);
  box-shadow: 0 8px 18px rgba(0,0,0,.06);
  cursor:pointer;
  display:grid;
  place-items:center;
  font-weight: 900;
  color: rgba(17,24,39,.70);
}

[data-parasha-games] .pz-arrow[disabled]{
  opacity: .35;
  cursor: default;
}

[data-parasha-games] .pz-arrow.left{ left: -8px; }
[data-parasha-games] .pz-arrow.right{ right: -8px; }

[data-parasha-games] .pz-tile{
  flex: 0 0 auto;
  width: 78px;
  aspect-ratio: 1 / 1;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.10);
  box-shadow: 0 8px 18px rgba(0,0,0,.07);
  background-repeat:no-repeat;
  background-position:center;
  position: relative;
  touch-action: none; /* prevent scroll while dragging tile */
}

[data-parasha-games] .pz-tile.pz-drag-dim{
  opacity: .35;
}

[data-parasha-games] .pz-drag-ghost{
  position: fixed;
  width: 88px;
  aspect-ratio: 1 / 1;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.10);
  box-shadow: var(--pz-shadow2);
  background-repeat:no-repeat;
  z-index: 999999;
  pointer-events: none;
  transform: translate(-50%, -50%) scale(1.10);
}

@media (prefers-reduced-motion: reduce){
  [data-parasha-games] .pz-img{ transition:none; }
  [data-parasha-games] .pz-banner{ transition:none; }
}
